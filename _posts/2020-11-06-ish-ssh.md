---
layout: post
title:  "SSH From iPhone"
date:   2020-11-06 20:20:56 +0100
tags:
    - DevOps
permalink: ish-ssh/
---
The need to SSH to something can occur at inconvienient times,  being able to SSH from iPhone/iPad would be really useful. I found recently [iSH which is an project](https://github.com/ish-app/ish) which offers a Linux shell environment on iOS using a usermode x86 emulator.

The emulator is based on Apline Linux but does not ship with APK the Alpine Linux package manager. To install the package manager and ultimatley other tools we can download this with Safari from following URL.

```
http://dl-cdn.alpinelinux.org/alpine/latest-stable/main/x86/apk-tools-static-2.10.5-r1.apk
```

The emulator does not by default have access to iCloud Drive files but this can be mounted by running following.  Note when mounting iCloud Drive you get prompted which folder,  you can select root or Downloads folder where APK install file would be located.

```
mount -t ios . /mnt
```

With the iCloud Drive mounted to emulator we can look to unpack and then create a symbolic link.

```
cd /mnt/Downloads
tar xvzf apk-tools-static-2.10.5-r1.apk -C /
ln -s /sbin/apk.static /sbin/apk
```

With the package manager client installed we can install SSH.

```
apk add --no-cache openssh 
```

Another interesting thing is if you run a web server within iSH.

```
apk add --no-cache python3
echo 'Hello from iSH' >> index.html
python3 -m http.server
```

You can then browse this from iOS Safari.

```
http://127.0.0.1:8000
```